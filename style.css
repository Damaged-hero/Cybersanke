/* --- tiny global tweaks (keep anywhere in the file) --- */

/* Make the dice row hug the left by default */
.dice-row{ align-items:center; justify-content:flex-start; }

/* Never vertically center the right panel’s grid rows */
.side{ align-content:start; grid-auto-rows: min-content; }

/* ===================================================================
   Mobile tweaks — keep desktop as-is.
   Goal: Board big on top (square by width); then one row with dice (L)
   + stats (R); buttons full-width below; then player/log/warriors/LB.
   =================================================================== */
@media (max-width: 960px){
  /* Single column app on phones */
  .layout{
    grid-template-columns: 1fr;
    height:auto;
  }

  /* Board container: width-driven, square, centered */
  .hero-left{
    /* use small viewport units so iOS toolbars don't squash it */
    padding:12px;
  }
  .mini.hero{
    width:100%;
    max-width: 92vw;        /* keep some gutter on tiny phones */
    margin: 0 auto;
    aspect-ratio: 1 / 1;    /* <- makes it a perfect square by width */
    /* remove flex growth so height isn't forced by parent */
    flex: 0 0 auto;
    padding:10px;
  }

  /* Hide minor chrome to save vertical space */
  .tracker-head, .legend{ display:none; }

  /* Right panel becomes a simple top-aligned grid */
  .side{
    display: grid;
    grid-template-columns: 1.1fr 1fr;         /* dice a bit wider than stats */
    grid-template-areas:
      "dice stats"
      "btns btns"
      "player player"
      "log  log"
      "war  war"
      "lb   lb";
    gap: 12px;
    padding-bottom: 20px;
    align-items: start;     /* top, not middle */
    align-content: start;   /* important for Safari */
  }

  /* Place blocks */
  .dice-row{ grid-area: dice; }
  .stats{ grid-area: stats; }
  .btns{ grid-area: btns; }
  .player{ grid-area: player; }
  .log{ grid-area: log; min-height: 140px; max-height: none; }
  .warriors{ grid-area: war; }
  .leaderboard{ grid-area: lb; }

  /* Compact the stats column so it stacks cleanly */
  .stats{
    grid-template-columns: 1fr;     /* vertical stack */
    row-gap: 6px;
    font-size: 14px;
    align-self:start;
  }
  .stat{ gap:6px; }

  /* Dice: slightly larger for thumb targeting */
  .dice{
    width: 96px;
    height: 96px;
  }
  .dice-help{ max-width:none; font-size:14px; }

  /* Roll/Restart across the full width for easy tapping */
  .btns{ display:flex; gap:10px; }
  .btns .roll{ flex:1 1 auto; }

  /* Warrior grid: 3 across on phones */
  .war-grid{ grid-template-columns: repeat(3, 1fr); }

  /* Softer corners on small screens */
  .panel{ border-radius:14px; }
}
